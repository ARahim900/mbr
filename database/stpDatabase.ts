import { StpDataEntry, MonthlyStpData } from '../types';

const rawStpDataString = `Date	Number of Tankers Discharged	Expected Tanker Volume (m続) (20 m3)	Direct In line Sewage (MB)	Total Inlet Sewage Received from (MB+Tnk) -m続	Total Treated Water Produced - m続	Total TSE Water Output to Irrigation - m続	Income from Tankers (OMR)	Saving from TSE (OMR)	Total Saving & Income (OMR)
01/07/2024	10	200	139	339	385	340	45	448.8	493.8
02/07/2024	14	280	246	526	519	458	63	604.56	667.56
03/07/2024	13	260	208	468	479	425	58.5	561	619.5
04/07/2024	11	220	244	464	547	425	49.5	561	610.5
05/07/2024	15	300	265	565	653	574	67.5	757.68	825.18
06/07/2024	14	280	222	502	552	492	63	649.44	712.44
07/07/2024	13	260	289	549	575	498	58.5	657.36	715.86
08/07/2024	16	320	212	532	587	515	72	679.8	751.8
08/07/2024	16	320	219	539	589	515	72	679.8	751.8
09/07/2024	13	260	272	532	586	519	58.5	685.08	743.58
10/07/2024	12	240	253	493	542	462	54	609.84	663.84
12/07/2024	12	240	266	506	533	468	54	617.76	671.76
12/07/2024	16	320	258	578	654	580	72	765.6	837.6
13/07/2024	10	200	279	479	464	402	45	530.64	575.64
13/07/2024	10	200	279	479	464	402	45	530.64	575.64
14/07/2024	13	260	226	486	506	448	58.5	591.36	649.86
15/07/2024	6	120	271	391	482	418	27	551.76	578.76
16/07/2024	18	360	216	576	670	600	81	792	873
17/07/2024	12	240	266	506	344	300	54	396	450
18/07/2024	8	160	209	369	585	517	36	682.44	718.44
19/07/2024	15	300	314	614	687	605	67.5	798.6	866.1
20/07/2024	12	240	243	483	536	465	54	613.8	667.8
21/07/2024	13	260	241	501	504	455	58.5	600.6	659.1
22/07/2024	13	260	220	480	549	492	58.5	649.44	707.94
23/07/2024	16	320	248	568	611	535	72	706.2	778.2
24/07/2024	18	360	203	563	599	528	81	696.96	777.96
25/07/2024	14	280	135	415	517	444	63	586.08	649.08
26/07/2024	18	360	224	584	650	570	81	752.4	833.4
27/07/2024	10	200	337	537	475	414	45	546.48	591.48
28/07/2024	12	240	213	453	512	449	54	592.68	646.68
29/07/2024	19	380	305	685	671	577	85.5	761.64	847.14
30/07/2024	13	260	267	527	668	582	58.5	768.24	826.74
31/07/2024	17	340	266	606	613	529	76.5	698.28	774.78
01/08/2024	15	300	242	542	601	528	67.5	696.96	764.46
02/08/2024	15	300	360	660	676	590	67.5	778.8	846.3
03/08/2024	13	260	233	493	544	474	58.5	625.68	684.18
04/08/2024	13	260	250	510	571	497	58.5	656.04	714.54
05/08/2024	13	260	255	515	574	500	58.5	660	718.5
06/08/2024	16	320	284	604	643	554	72	731.28	803.28
07/08/2024	19	380	110	490	608	516	85.5	681.12	766.62
08/08/2024	17	340	302	642	610	524	76.5	691.68	768.18
09/08/2024	12	240	291	531	630	550	54	726	780
10/08/2024	13	260	265	525	583	499	58.5	658.68	717.18
11/08/2024	11	220	339	559	554	483	49.5	637.56	687.06
12/08/2024	12	240	229	469	606	531	54	700.92	754.92
13/08/2024	12	240	219	459	569	499	54	658.68	712.68
14/08/2024	11	220	289	509	525	492	49.5	649.44	698.94
15/08/2024	13	260	281	541	579	502	58.5	662.64	721.14
16/08/2024	11	220	328	548	591	516	49.5	681.12	730.62
17/08/2024	14	280	232	512	466	414	63	546.48	609.48
18/08/2024	13	260	218	478	591	516	58.5	681.12	739.62
19/08/2024	11	220	210	430	529	470	49.5	620.4	669.9
20/08/2024	13	260	261	521	579	495	58.5	653.4	711.9
21/08/2024	12	240	238	478	586	500	54	660	714
22/08/2024	13	260	292	552	486	437	58.5	576.84	635.34
23/08/2024	12	240	209	449	564	478	54	630.96	684.96
24/08/2024	9	180	281	461	581	505	40.5	666.6	707.1
25/08/2024	8	160	209	369	488	420	36	554.4	590.4
26/08/2024	8	160	249	409	371	291	36	384.12	420.12
27/08/2024	8	160	231	391	453	417	36	550.44	586.44
28/08/2024	9	180	355	535	642	557	40.5	735.24	775.74
29/08/2024	9	180	188	368	413	360	40.5	475.2	515.7
30/08/2024	14	280	346	626	624	551	63	727.32	790.32
31/08/2024	9	180	285	465	535	473	40.5	624.36	664.86
01/09/2024	11	220	257	477	504	441	49.5	582.12	631.62
02/09/2024	5	100	270	370	355	317	22.5	418.44	440.94
03/09/2024	9	180	261	441	540	481	40.5	634.92	675.42
04/09/2024	4	80	252	332	358	300	18	396	414
05/09/2024	6	120	330	450	547	483	27	637.56	664.56
06/09/2024	14	280	209	489	518	474	63	625.68	688.68
07/09/2024	12	240	319	559	568	504	54	665.28	719.28
08/09/2024	9	180	299	479	478	422	40.5	557.04	597.54
09/09/2024	9	180	283	463	515	459	40.5	605.88	646.38
10/09/2024	7	140	282	422	453	396	31.5	522.72	554.22
11/09/2024	12	240	279	519	566	495	54	653.4	707.4
12/09/2024	10	200	257	457	489	437	45	576.84	621.84
13/09/2024	14	280	284	564	671	611	63	806.52	869.52
14/09/2024	5	100	243	343	357	311	22.5	410.52	433.02
15/09/2024	7	140	208	348	354	307	31.5	405.24	436.74
16/09/2024	8	160	283	443	412	366	36	483.12	519.12
17/09/2024	8	160	143	303	352	314	36	414.48	450.48
18/09/2024	8	160	220	380	424	371	36	489.72	525.72
19/09/2024	9	180	198	378	441	401	40.5	529.32	569.82
20/09/2024	14	280	231	511	581	519	63	685.08	748.08
20/09/2024	14	280	231	511	581	519	63	685.08	748.08
21/09/2024	9	180	254	434	452	391	40.5	516.12	556.62
22/09/2024	9	180	190	370	355	317	40.5	418.44	458.94
23/09/2024	5	100	191	291	292	262	22.5	345.84	368.34
24/09/2024	8	160	302	462	555	498	36	657.36	693.36
25/09/2024	10	200	190	390	364	319	45	421.08	466.08
26/09/2024	7	140	212	352	386	342	31.5	451.44	482.94
27/09/2024	11	220	269	489	519	467	49.5	616.44	665.94
28/09/2024	8	160	323	483	539	469	36	619.08	655.08
29/09/2024	9	180	268	448	557	503	40.5	663.96	704.46
30/09/2024	6	120	304	424	388	350	27	462	489
30/09/2024	6	120	304	424	388	350	27	462	489
01/10/2024	5	100	305	405	482	417	22.5	550.44	572.94
02/10/2024	8	160	273	433	419	361	36	476.52	512.52
03/10/2024	9	180	295	475	575	520	40.5	686.4	726.9
04/10/2024	15	300	247	547	602	506	67.5	667.92	735.42
05/10/2024	8	160	362	522	555	515	36	679.8	715.8
06/10/2024	8	160	297	457	425	365	36	481.8	517.8
07/10/2024	11	220	324	544	592	533	49.5	703.56	753.06
08/10/2024	11	220	269	489	524	462	49.5	609.84	659.34
09/10/2024	11	220	312	532	637	568	49.5	749.76	799.26
10/10/2024	11	220	274	494	559	491	49.5	648.12	697.62
11/10/2024	12	240	309	549	541	438	54	578.16	632.16
12/10/2024	8	160	351	511	526	512	36	675.84	711.84
13/10/2024	6	120	212	332	405	345	27	455.4	482.4
14/10/2024	7	140	369	509	601	548	31.5	723.36	754.86
15/10/2024	10	200	381	581	569	489	45	645.48	690.48
16/10/2024	8	160	388	548	607	538	36	710.16	746.16
17/10/2024	11	220	416	636	659	575	49.5	759	808.5
18/10/2024	10	200	365	565	677	597	45	788.04	833.04
19/10/2024	8	160	429	589	583	509	36	671.88	707.88
20/10/2024	10	200	337	537	614	542	45	715.44	760.44
21/10/2024	12	240	299	539	585	513	54	677.16	731.16
22/10/2024	9	180	345	525	606	528	40.5	696.96	737.46
23/10/2024	11	220	372	592	614	532	49.5	702.24	751.74
24/10/2024	11	220	326	546	522	442	49.5	583.44	632.94
25/10/2024	9	180	423	603	601	524	40.5	691.68	732.18
26/10/2024	12	240	348	588	636	557	54	735.24	789.24
27/10/2024	6	120	403	523	594	487	27	642.84	669.84
28/10/2024	9	180	415	595	586	535	40.5	706.2	746.7
29/10/2024	7	140	371	511	613	535	31.5	706.2	737.7
30/10/2024	9	180	363	543	583	506	40.5	667.92	708.42
31/10/2024	7	140	437	577	577	500	31.5	660	691.5
01/11/2024	5	100	376	476	553	476	22.5	628.32	650.82
02/11/2024	8	160	393	553	609	513	36	677.16	713.16
03/11/2024	8	160	338	498	494	419	36	553.08	589.08
04/11/2024	6	120	310	430	542	480	27	633.6	660.6
05/11/2024	9	180	301	481	570	489	40.5	645.48	685.98
06/11/2024	7	140	231	371	423	351	31.5	463.32	494.82
07/11/2024	12	240	369	609	516	449	54	592.68	646.68
08/11/2024	11	220	296	516	621	538	49.5	710.16	759.66
09/11/2024	13	260	257	517	581	500	58.5	660	718.5
10/11/2024	6	120	344	464	573	495	27	653.4	680.4
11/11/2024	11	220	229	449	588	505	49.5	666.6	716.1
12/11/2024	8	160	306	466	567	494	36	652.08	688.08
13/11/2024	8	160	386	546	578	495	36	653.4	689.4
14/11/2024	9	180	324	504	567	484	40.5	638.88	679.38
15/11/2024	6	120	369	489	572	488	27	644.16	671.16
16/11/2024	9	180	340	520	559	474	40.5	625.68	666.18
17/11/2024	5	100	361	461	448	363	22.5	479.16	501.66
18/11/2024	10	200	275	475	534	466	45	615.12	660.12
19/11/2024	8	160	319	479	567	484	36	638.88	674.88
20/11/2024	6	120	345	465	579	494	27	652.08	679.08
21/11/2024	6	120	358	478	551	461	27	608.52	635.52
22/11/2024	7	140	354	494	574	488	31.5	644.16	675.66
23/11/2024	7	140	277	417	518	427	31.5	563.64	595.14
24/11/2024	4	80	307	387	507	434	18	572.88	590.88
25/11/2024	8	160	400	560	569	474	36	625.68	661.68
26/11/2024	10	200	301	501	561	471	45	621.72	666.72
27/11/2024	9	180	344	524	539	447	40.5	590.04	630.54
28/11/2024	7	140	347	487	548	456	31.5	601.92	633.42
29/11/2024	6	120	283	403	560	464	27	612.48	639.48
30/11/2024	6	120	400	520	520	427	27	563.64	590.64
01/12/2024	5	100	381	481	542	447	22.5	590.04	612.54
02/12/2024	6	120	376	496	526	442	27	583.44	610.44
03/12/2024	5	100	362	462	539	442	22.5	583.44	605.94
04/12/2024	5	100	257	357	537	449	22.5	592.68	615.18
05/12/2024	9	180	415	595	551	455	40.5	600.6	641.1
06/12/2024	4	80	357	437	484	403	18	531.96	549.96
07/12/2024	4	80	376	456	550	462	18	609.84	627.84
08/12/2024	5	100	362	462	570	474	22.5	625.68	648.18
09/12/2024	6	120	309	429	531	450	27	594	621
10/12/2024	8	160	293	453	493	412	36	543.84	579.84
11/12/2024	5	100	396	496	586	501	22.5	661.32	683.82
12/12/2024	5	100	341	441	554	461	22.5	608.52	631.02
13/12/2024	8	160	281	441	507	439	36	579.48	615.48
14/12/2024	8	160	346	506	585	515	36	679.8	715.8
15/12/2024	7	140	361	501	493	414	31.5	546.48	577.98
16/12/2024	6	120	318	438	541	468	27	617.76	644.76
17/12/2024	9	180	373	553	580	476	40.5	628.32	668.82
18/12/2024	7	140	356	496	581	498	31.5	657.36	688.86
19/12/2024	8	160	382	542	560	471	36	621.72	657.72
20/12/2024	8	160	280	440	585	488	36	644.16	680.16
21/12/2024	6	120	382	502	575	475	27	627	654
22/12/2024	7	140	396	536	606	513	31.5	677.16	708.66
23/12/2024	7	140	308	448	587	497	31.5	656.04	687.54
24/12/2024	4	80	446	526	542	449	18	592.68	610.68
25/12/2024	6	120	397	517	614	513	27	677.16	704.16
26/12/2024	8	160	371	531	590	495	36	653.4	689.4
27/12/2024	5	100	442	542	621	517	22.5	682.44	704.94
28/12/2024	7	140	401	541	611	524	31.5	691.68	723.18
29/12/2024	7	140	388	528	605	511	31.5	674.52	706.02
30/12/2024	7	140	385	525	598	509	31.5	671.88	703.38
31/12/2024	4	80	455	535	600	506	18	667.92	685.92
01/01/2025	3	60	433	493	601	504	13.5	665.28	678.78
02/01/2025	3	60	468	528	600	491	13.5	648.12	661.62
03/01/2025	4	80	370	450	577	494	18	652.08	670.08
04/01/2025	4	80	427	507	587	486	18	641.52	659.52
05/01/2025	4	80	393	473	532	445	18	587.4	605.4
06/01/2025	4	80	365	445	572	472	18	623.04	641.04
07/01/2025	7	140	409	549	610	506	31.5	667.92	699.42
08/01/2025	5	100	411	511	526	454	22.5	599.28	621.78
09/01/2025	6	120	394	514	589	494	27	652.08	679.08
10/01/2025	8	160	375	535	637	528	36	696.96	732.96
11/01/2025	3	60	376	436	552	459	13.5	605.88	619.38
12/01/2025	6	120	353	473	508	419	27	553.08	580.08
13/01/2025	6	120	336	456	581	489	27	645.48	672.48
14/01/2025	8	160	353	513	594	502	36	662.64	698.64
15/01/2025	8	160	334	494	593	504	36	665.28	701.28
16/01/2025	10	200	309	509	521	438	45	578.16	623.16
17/01/2025	7	140	362	502	595	518	31.5	683.76	715.26
18/01/2025	8	160	377	537	608	526	36	694.32	730.32
19/01/2025	8	160	400	560	605	523	36	690.36	726.36
20/01/2025	8	160	357	517	595	503	36	663.96	699.96
21/01/2025	8	160	392	552	602	517	36	682.44	718.44
22/01/2025	6	120	362	482	576	498	27	657.36	684.36
23/01/2025	6	120	357	477	599	526	27	694.32	721.32
24/01/2025	7	140	364	504	606	499	31.5	658.68	690.18
25/01/2025	8	160	383	543	601	523	36	690.36	726.36
26/01/2025	8	160	349	509	605	516	36	681.12	717.12
27/01/2025	8	160	359	519	601	515	36	679.8	715.8
28/01/2025	11	220	362	582	607	519	49.5	685.08	734.58
29/01/2025	9	180	341	521	615	529	40.5	698.28	738.78
30/01/2025	9	180	339	519	598	510	40.5	673.2	713.7
31/01/2025	7	140	373	513	619	526	31.5	694.32	725.82
01/02/2025	8	160	351	511	527	456	36	601.92	637.92
02/02/2025	9	180	331	511	505	423	40.5	558.36	598.86
03/02/2025	8	160	336	496	584	489	36	645.48	681.48
04/02/2025	9	180	365	545	578	484	40.5	638.88	679.38
05/02/2025	6	120	407	527	582	482	27	636.24	663.24
06/02/2025	8	160	322	482	588	493	36	650.76	686.76
07/02/2025	6	120	365	485	576	482	27	636.24	663.24
08/02/2025	4	80	451	531	582	478	18	630.96	648.96
09/02/2025	9	180	341	521	586	489	40.5	645.48	685.98
10/02/2025	6	120	394	514	594	495	27	653.4	680.4
11/02/2025	7	140	406	546	589	501	31.5	661.32	692.82
12/02/2025	5	100	428	528	614	527	22.5	695.64	718.14
13/02/2025	4	80	423	503	620	525	18	693	711
14/02/2025	4	80	474	554	614	527	18	695.64	713.64
15/02/2025	4	80	458	538	627	533	18	703.56	721.56
16/02/2025	5	100	461	561	630	539	22.5	711.48	733.98
17/02/2025	5	100	444	544	628	539	22.5	711.48	733.98
18/02/2025	5	100	417	517	609	520	22.5	686.4	708.9
19/02/2025	4	80	459	539	582	489	18	645.48	663.48
20/02/2025	2	40	442	482	553	459	9	605.88	614.88
21/02/2025	1	20	458	478	518	419	4.5	553.08	557.58
24/02/2025	0	0	491	491	437	361	0	476.52	476.52
25/02/2025	0	0	334	334	247	159	0	209.88	209.88
26/02/2025	0	0	342	342	272	226	0	298.32	298.32
27/02/2025	0	0	502	502	595	512	0	675.84	675.84
28/02/2025	2	40	458	498	571	468	9	617.76	626.76
01/03/2025	0	0	487	487	583	476	0	628.32	628.32
02/03/2025	1	20	473	493	592	514	4.5	678.48	682.98
03/03/2025	1	20	477	497	598	517	4.5	682.44	686.94
04/03/2025	5	100	461	561	600	516	22.5	681.12	703.62
05/03/2025	3	60	443	503	608	521	13.5	687.72	701.22
06/03/2025	6	120	424	544	607	530	27	699.6	726.6
07/03/2025	5	100	452	552	621	532	22.5	702.24	724.74
08/03/2025	6	120	450	570	617	531	27	700.92	727.92
09/03/2025	4	80	388	468	607	521	18	687.72	705.72
10/03/2025	6	120	480	600	610	524	27	691.68	718.68
11/03/2025	3	60	476	536	607	511	13.5	674.52	688.02
12/03/2025	6	120	391	511	601	509	27	671.88	698.88
13/03/2025	3	60	472	532	606	508	13.5	670.56	684.06
14/03/2025	6	120	399	519	609	507	27	669.24	696.24
15/03/2025	2	40	494	534	602	504	9	665.28	674.28
16/03/2025	4	80	434	514	591	494	18	652.08	670.08
17/03/2025	4	80	442	522	591	500	18	660	678
18/03/2025	5	100	369	469	578	480	22.5	633.6	656.1
19/03/2025	3	60	466	526	565	467	13.5	616.44	629.94
20/03/2025	4	80	424	504	610	511	18	674.52	692.52
21/03/2025	4	80	425	505	619	519	18	685.08	703.08
22/03/2025	5	100	435	535	616	523	22.5	690.36	712.86
23/03/2025	6	120	466	586	627	541	27	714.12	741.12
24/03/2025	6	120	422	542	630	540	27	712.8	739.8
25/03/2025	5	100	488	588	613	522	22.5	689.04	711.54
26/03/2025	8	160	353	513	631	541	36	714.12	750.12
27/03/2025	7	140	513	653	627	538	31.5	710.16	741.66
28/03/2025	3	60	478	538	631	546	13.5	720.72	734.22
29/03/2025	4	80	559	639	623	534	18	704.88	722.88
30/03/2025	3	60	471	531	640	558	13.5	736.56	750.06
31/03/2025	3	60	471	531	640	558	13.5	736.56	750.06
01/04/2025	5	100	485	585	639	551	22.5	727.32	749.82
02/04/2025	6	120	475	595	650	560	27	739.2	766.2
03/04/2025	5	100	473	573	634	556	22.5	733.92	756.42
04/04/2025	4	80	529	609	656	573	18	756.36	774.36
05/04/2025	5	100	495	595	648	569	22.5	751.08	773.58
06/04/2025	6	120	439	559	658	579	27	764.28	791.28
07/04/2025	7	140	410	550	653	574	31.5	757.68	789.18
08/04/2025	8	160	481	641	648	562	36	741.84	777.84
09/04/2025	5	100	478	578	656	568	22.5	749.76	772.26
10/04/2025	6	120	497	617	654	558	27	736.56	763.56
11/04/2025	6	120	456	576	671	582	27	768.24	795.24
12/04/2025	8	160	460	620	660	576	36	760.32	796.32
13/04/2025	5	100	517	617	676	595	22.5	785.4	807.9
14/04/2025	8	160	441	601	673	592	36	781.44	817.44
15/04/2025	7	140	421	561	641	557	31.5	735.24	766.74
16/04/2025	8	160	483	643	674	590	36	778.8	814.8
17/04/2025	6	120	444	564	665	581	27	766.92	793.92
18/04/2025	7	140	449	589	660	577	31.5	761.64	793.14
19/04/2025	7	140	449	589	660	577	31.5	761.64	793.14
19/04/2025	8	160	446	606	647	563	36	743.16	779.16
20/04/2025	7	140	514	654	647	553	31.5	729.96	761.46
21/04/2025	6	120	404	524	635	524	27	691.68	718.68
22/04/2025	3	60	525	585	647	565	13.5	745.8	759.3
23/04/2025	5	100	489	589	688	578	22.5	762.96	785.46
24/04/2025	6	120	486	606	695	594	27	784.08	811.08
25/04/2025	6	120	478	598	712	609	27	803.88	830.88
26/04/2025	6	120	518	638	706	584	27	770.88	797.88
27/04/2025	5	100	480	580	714	603	22.5	795.96	818.46
28/04/2025	5	100	473	573	716	607	22.5	801.24	823.74
29/04/2025	9	180	444	624	710	602	40.5	794.64	835.14
30/04/2025	9	180	462	642	710	646	40.5	852.72	893.22
01/05/2025	9	180	451	631	717	631	40.5	832.92	873.42
02/05/2025	11	220	471	691	703	626	49.5	826.32	875.82
03/05/2025	9	180	496	676	681	608	40.5	802.56	843.06
04/05/2025	8	160	472	632	709	635	36	838.2	874.2
05/05/2025	9	180	365	545	672	593	40.5	782.76	823.26
06/05/2025	11	220	374	594	657	569	49.5	751.08	800.58
07/05/2025	10	200	445	645	700	627	45	827.64	872.64
08/05/2025	12	240	351	591	666	593	54	782.76	836.76
09/05/2025	10	200	455	655	667	592	45	781.44	826.44
10/05/2025	10	200	463	663	705	630	45	831.6	876.6
11/05/2025	8	160	464	624	725	646	36	852.72	888.72
12/05/2025	9	180	489	669	623	645	40.5	851.4	891.9
13/05/2025	9	180	466	646	674	592	40.5	781.44	821.94
14/05/2025	11	220	467	687	720	647	49.5	854.04	903.54
15/05/2025	10	200	432	632	708	626	45	826.32	871.32
16/05/2025	9	180	479	659	725	646	40.5	852.72	893.22
17/05/2025	8	160	530	690	720	642	36	847.44	883.44
18/05/2025	10	200	457	657	722	585	45	772.2	817.2
19/05/2025	10	200	403	603	722	579	45	764.28	809.28
20/05/2025	8	160	481	641	722	605	36	798.6	834.6
21/05/2025	8	160	484	644	722	620	36	818.4	854.4
22/05/2025	7	140	466	606	728	589	31.5	777.48	808.98
23/05/2025	5	100	501	601	725	581	22.5	766.92	789.42
24/05/2025	4	80	496	576	721	584	18	770.88	788.88
25/05/2025	4	80	560	640	749	653	18	861.96	879.96
26/05/2025	5	100	491	591	748	606	22.5	799.92	822.42
27/05/2025	7	140	473	613	750	613	31.5	809.16	840.66
28/05/2025	8	160	442	602	745	602	36	794.64	830.64
29/05/2025	8	160	478	638	749	604	36	797.28	833.28
30/05/2025	7	140	423	563	750	609	31.5	803.88	835.38
31/05/2025	8	160	407	567	746	607	36	801.24	837.24
01/06/2025	10	200	376	576	701	610	45	805.2	850.2
02/06/2025	11	220	324	544	650	524	49.5	691.68	741.18
03/06/2025	11	220	378	598	646	560	49.5	739.2	788.7
04/06/2025	11	220	383	603	626	564	49.5	744.48	793.98
05/06/2025	12	240	355	595	662	591	54	780.12	834.12
06/06/2025	10	200	448	648	626	603	45	795.96	840.96
07/06/2025	9	180	413	593	639	573	40.5	756.36	796.86
08/06/2025	11	220	363	583	658	585	49.5	772.2	821.7
09/06/2025	11	220	376	596	628	564	49.5	744.48	793.98
10/06/2025	10	200	348	548	569	508	45	670.56	715.56
11/06/2025	11	220	372	592	617	549	49.5	724.68	774.18`;

let cachedStpData: StpDataEntry[] | null = null;

const parseStpData = (data: string): StpDataEntry[] => {
  const lines = data.trim().split('\n');
  const dataLines = lines.slice(1);

  const parsedEntries: StpDataEntry[] = [];

  dataLines.forEach((line, index) => {
    const values = line.split('\t');
    if (values.length < 10) return;

    const dateParts = values[0]?.split('/');
    if (!dateParts || dateParts.length !== 3) return;

    const date = new Date(parseInt(dateParts[2], 10), parseInt(dateParts[1], 10) - 1, parseInt(dateParts[0], 10));
    if (isNaN(date.getTime())) return;

    const entry: StpDataEntry = {
      id: `${date.toISOString()}-${index}`,
      date: date,
      tankerCount: parseInt(values[1], 10) || 0,
      expectedTankerVolume: parseFloat(values[2]) || 0,
      directInlineSewage: parseFloat(values[3]) || 0,
      totalInletSewage: parseFloat(values[4]) || 0,
      totalTreatedWater: parseFloat(values[5]) || 0,
      tseOutput: parseFloat(values[6]) || 0,
      income: parseFloat(values[7]) || 0,
      savings: parseFloat(values[8]) || 0,
      totalSavingsAndIncome: parseFloat(values[9]) || 0,
    };
    parsedEntries.push(entry);
  });

  return parsedEntries;
};

export const getStpData = (): StpDataEntry[] => {
    if (cachedStpData) {
        return cachedStpData;
    }
    cachedStpData = parseStpData(rawStpDataString);
    return cachedStpData;
};

export const calculateMonthlyStpData = (dailyData: StpDataEntry[]): MonthlyStpData[] => {
    const monthlyDataMap: { [key: string]: MonthlyStpData } = {};

    dailyData.forEach(entry => {
        const year = entry.date.getFullYear();
        const month = entry.date.getMonth(); // 0-11
        const monthKey = `${year}-${String(month + 1).padStart(2, '0')}`;
        
        if (!monthlyDataMap[monthKey]) {
            monthlyDataMap[monthKey] = {
                month: entry.date.toLocaleString('default', { month: 'long', year: 'numeric' }),
                monthKey: monthKey,
                totalTreatedWater: 0,
                tseOutput: 0,
                totalInletSewage: 0,
                tankerCount: 0,
                income: 0,
                savings: 0,
                totalSavingsAndIncome: 0,
            };
        }

        const currentMonth = monthlyDataMap[monthKey];
        currentMonth.totalTreatedWater += entry.totalTreatedWater;
        currentMonth.tseOutput += entry.tseOutput;
        currentMonth.totalInletSewage += entry.totalInletSewage;
        currentMonth.tankerCount += entry.tankerCount;
        currentMonth.income += entry.income;
        currentMonth.savings += entry.savings;
        currentMonth.totalSavingsAndIncome += entry.totalSavingsAndIncome;
    });
    
    return Object.values(monthlyDataMap).sort((a, b) => a.monthKey.localeCompare(b.monthKey));
};